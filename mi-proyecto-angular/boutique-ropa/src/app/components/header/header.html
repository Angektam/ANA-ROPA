<header class="header">
  <!-- Top Bar -->
  <div class="top-bar">
    <div class="container">
      <div class="top-bar-content">
        <div class="top-bar-left">
          <span class="welcome-text">
            <i class="fas fa-star"></i>
            Bienvenido a Boutique Ana - Moda Elegante y Sofisticada
          </span>
        </div>
        <div class="top-bar-right">
          <a href="tel:+1234567890" class="top-link">
            <i class="fas fa-phone"></i>
            +1 (234) 567-890
          </a>
          <a href="mailto:info@boutiqueana.com" class="top-link">
            <i class="fas fa-envelope"></i>
            info@boutiqueana.com
          </a>
        </div>
      </div>
    </div>
  </div>

  <!-- Main Navigation -->
  <nav class="navbar">
    <div class="container">
      <div class="nav-container">
        <!-- Logo -->
        <div class="nav-logo">
          <a routerLink="/" class="logo-link">
            <div class="logo-icon">
              <i class="fas fa-gem"></i>
            </div>
            <div class="logo-text">
              <span class="logo-name">Boutique Ana</span>
              <span class="logo-tagline">Moda Elegante</span>
            </div>
          </a>
        </div>

        <!-- Navigation Menu -->
        <div class="nav-menu" id="nav-menu">
          <ul class="nav-list">
            <li class="nav-item">
              <a routerLink="/" routerLinkActive="active" [routerLinkActiveOptions]="{exact: true}" class="nav-link">
                <i class="fas fa-home"></i>
                <span>Inicio</span>
              </a>
            </li>
            <li class="nav-item">
              <a routerLink="/catalog" routerLinkActive="active" class="nav-link">
                <i class="fas fa-th-large"></i>
                <span>Catálogo</span>
              </a>
            </li>
            <li class="nav-item dropdown" [class.active]="showCategoriesMenu">
              <a href="#" class="nav-link dropdown-toggle" (click)="toggleCategoriesMenu(); $event.preventDefault()">
                <i class="fas fa-tags"></i>
                <span>Categorías</span>
                <i class="fas fa-chevron-down" [class.rotated]="showCategoriesMenu"></i>
              </a>
              <ul class="dropdown-menu" [class.show]="showCategoriesMenu">
                <li><a routerLink="/catalog" class="dropdown-link">
                  <i class="fas fa-female"></i>
                  Vestidos
                </a></li>
                <li><a routerLink="/catalog" class="dropdown-link">
                  <i class="fas fa-tshirt"></i>
                  Blusas
                </a></li>
                <li><a routerLink="/catalog" class="dropdown-link">
                  <i class="fas fa-user-tie"></i>
                  Pantalones
                </a></li>
                <li><a routerLink="/catalog" class="dropdown-link">
                  <i class="fas fa-female"></i>
                  Faldas
                </a></li>
                <li><a routerLink="/catalog" class="dropdown-link">
                  <i class="fas fa-vest"></i>
                  Chaquetas
                </a></li>
                <li><a routerLink="/catalog" class="dropdown-link">
                  <i class="fas fa-gem"></i>
                  Accesorios
                </a></li>
              </ul>
            </li>
            <li class="nav-item">
              <a href="#" class="nav-link">
                <i class="fas fa-info-circle"></i>
                <span>Nosotros</span>
              </a>
            </li>
            <li class="nav-item">
              <a href="#" class="nav-link">
                <i class="fas fa-envelope"></i>
                <span>Contacto</span>
              </a>
            </li>
          </ul>
        </div>

        <!-- Right Side Actions -->
        <div class="nav-actions">
          <!-- Search -->
          <div class="search-container">
            <div class="search-box">
              <input type="text" placeholder="Buscar productos..." class="search-input">
              <button class="search-btn" type="button">
                <i class="fas fa-search"></i>
              </button>
            </div>
          </div>

          <!-- User Account -->
          <div class="user-container" *ngIf="!isAuthenticated">
            <a routerLink="/login" class="action-btn user-btn">
              <i class="fas fa-sign-in-alt"></i>
            </a>
          </div>

          <!-- User Menu (when authenticated) -->
          <div class="user-menu" *ngIf="isAuthenticated">
            <div class="user-dropdown">
              <button class="action-btn user-btn dropdown-toggle" (click)="toggleUserMenu()">
                <i class="fas fa-user"></i>
                <span class="user-name">{{ currentUser?.name }}</span>
                <i class="fas fa-chevron-down"></i>
              </button>
              <div class="user-dropdown-menu" [class.show]="showUserMenu">
                <div class="user-info">
                  <div class="user-avatar">
                    <i class="fas fa-user-circle"></i>
                  </div>
                  <div class="user-details">
                    <span class="user-name">{{ currentUser?.name }}</span>
                    <span class="user-email">{{ currentUser?.email }}</span>
                  </div>
                </div>
                <div class="dropdown-divider"></div>
                <a routerLink="/profile" class="dropdown-item">
                  <i class="fas fa-user"></i>
                  <span>Mi Perfil</span>
                </a>
                <a routerLink="/orders" class="dropdown-item">
                  <i class="fas fa-shopping-bag"></i>
                  <span>Mis Pedidos</span>
                </a>
                <a routerLink="/wishlist" class="dropdown-item">
                  <i class="fas fa-heart"></i>
                  <span>Lista de Deseos</span>
                </a>
                <div class="dropdown-divider"></div>
                <button class="dropdown-item logout-btn" (click)="logout()">
                  <i class="fas fa-sign-out-alt"></i>
                  <span>Cerrar Sesión</span>
                </button>
              </div>
            </div>
          </div>

          <!-- Wishlist -->
          <div class="wishlist-container">
            <a routerLink="/wishlist" class="action-btn wishlist-btn">
              <i class="fas fa-heart"></i>
              <span class="badge" *ngIf="wishlistCount > 0">{{ wishlistCount }}</span>
            </a>
          </div>

          <!-- Cart -->
          <div class="cart-container">
            <a routerLink="/cart" class="action-btn cart-btn">
              <i class="fas fa-shopping-cart"></i>
              <span class="badge" *ngIf="cartItemsCount > 0">{{ cartItemsCount }}</span>
            </a>
          </div>

          <!-- Mobile Menu Toggle -->
          <div class="nav-toggle" id="nav-toggle">
            <span class="bar"></span>
            <span class="bar"></span>
            <span class="bar"></span>
          </div>
        </div>
      </div>
    </div>
  </nav>
</header>
